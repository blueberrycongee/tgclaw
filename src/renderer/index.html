<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>TGClaw</title>
</head>
<body>

  <!-- å·¦ä¾§æ  -->
  <div id="sidebar">
    <div id="sidebar-header">
      <span class="brand-icon" id="brand-icon"></span>
      <span class="brand-text">TGClaw</span>
    </div>

    <!-- OpenClaw ç½®é¡¶ -->
    <div class="sidebar-item pinned active" data-id="openclaw">
      <div class="icon" id="openclaw-icon"></div>
      <div class="item-info">
        <div class="item-name-row">
          <div class="item-name">OpenClaw</div>
          <span class="openclaw-badge" id="openclaw-badge"></span>
        </div>
        <div class="item-status">Agent orchestrator</div>
      </div>
    </div>

    <div class="sidebar-section-header">
      <span>Sessions</span>
      <button id="new-chat-btn" class="sidebar-section-btn" title="New Chat">+</button>
    </div>
    <div id="session-list"></div>

    <!-- é¡¹ç›®åˆ—è¡¨ -->
    <div id="project-list"></div>

    <div id="add-project">+ Add Project</div>
  </div>

  <!-- å³ä¾§é¢æ¿ -->
  <div id="panel">
    <!-- Tab bar (é¡¹ç›®æ¨¡å¼æ‰æ˜¾ç¤º) -->
    <div id="tabbar">
      <div id="tab-scroll">
        <div id="tab-list"></div>
        <div id="add-tab" title="New Tab"></div>
        <span id="add-tab-default-badge" class="add-tab-default-badge"></span>
      </div>
      <button id="theme-toggle" class="theme-toggle-btn" title="Toggle Theme"></button>
    </div>
    <div id="add-tab-hover-menu" class="tab-add-hover-menu" role="menu" aria-label="Launch Agent">
      <div id="tab-add-default-anchor" class="tab-add-default-anchor" role="button" aria-haspopup="true" aria-expanded="false">
        <span class="tab-add-default-title">Default CLI</span>
        <span id="tab-add-default-value" class="tab-add-default-value"></span>
        <span class="tab-add-default-chevron">â€º</span>
      </div>
      <div class="tab-add-divider"></div>
      <button class="tab-add-option" type="button" data-agent-type="claude-code">
        <span class="tab-add-option-icon" data-agent-icon="claude-code"></span>
        <span class="tab-add-option-label">Claude Code</span>
      </button>
      <button class="tab-add-option" type="button" data-agent-type="codex">
        <span class="tab-add-option-icon" data-agent-icon="codex"></span>
        <span class="tab-add-option-label">Codex</span>
      </button>
      <button class="tab-add-option" type="button" data-agent-type="opencode">
        <span class="tab-add-option-icon" data-agent-icon="opencode"></span>
        <span class="tab-add-option-label">OpenCode</span>
      </button>
      <button class="tab-add-option" type="button" data-agent-type="gemini">
        <span class="tab-add-option-icon" data-agent-icon="gemini"></span>
        <span class="tab-add-option-label">Gemini CLI</span>
      </button>
      <button class="tab-add-option" type="button" data-agent-type="kimi">
        <span class="tab-add-option-icon" data-agent-icon="kimi"></span>
        <span class="tab-add-option-label">Kimi CLI</span>
      </button>
      <button class="tab-add-option" type="button" data-agent-type="goose">
        <span class="tab-add-option-icon" data-agent-icon="goose"></span>
        <span class="tab-add-option-label">Goose</span>
      </button>
      <button class="tab-add-option" type="button" data-agent-type="aider">
        <span class="tab-add-option-icon" data-agent-icon="aider"></span>
        <span class="tab-add-option-label">Aider</span>
      </button>
      <button class="tab-add-option" type="button" data-agent-type="shell">
        <span class="tab-add-option-icon" data-agent-icon="shell"></span>
        <span class="tab-add-option-label">Shell</span>
      </button>
    </div>
    <div id="add-tab-default-submenu" class="tab-add-default-submenu" role="menu" aria-label="Set Default CLI">
      <button class="tab-add-default-option" type="button" data-agent-type="claude-code">
        <span class="tab-add-default-option-icon" data-agent-icon="claude-code"></span>
        <span class="tab-add-default-option-label">Claude Code</span>
      </button>
      <button class="tab-add-default-option" type="button" data-agent-type="codex">
        <span class="tab-add-default-option-icon" data-agent-icon="codex"></span>
        <span class="tab-add-default-option-label">Codex</span>
      </button>
      <button class="tab-add-default-option" type="button" data-agent-type="opencode">
        <span class="tab-add-default-option-icon" data-agent-icon="opencode"></span>
        <span class="tab-add-default-option-label">OpenCode</span>
      </button>
      <button class="tab-add-default-option" type="button" data-agent-type="gemini">
        <span class="tab-add-default-option-icon" data-agent-icon="gemini"></span>
        <span class="tab-add-default-option-label">Gemini CLI</span>
      </button>
      <button class="tab-add-default-option" type="button" data-agent-type="kimi">
        <span class="tab-add-default-option-icon" data-agent-icon="kimi"></span>
        <span class="tab-add-default-option-label">Kimi CLI</span>
      </button>
      <button class="tab-add-default-option" type="button" data-agent-type="goose">
        <span class="tab-add-default-option-icon" data-agent-icon="goose"></span>
        <span class="tab-add-default-option-label">Goose</span>
      </button>
      <button class="tab-add-default-option" type="button" data-agent-type="aider">
        <span class="tab-add-default-option-icon" data-agent-icon="aider"></span>
        <span class="tab-add-default-option-label">Aider</span>
      </button>
      <button class="tab-add-default-option" type="button" data-agent-type="shell">
        <span class="tab-add-default-option-icon" data-agent-icon="shell"></span>
        <span class="tab-add-default-option-label">Shell</span>
      </button>
    </div>

    <div id="quick-launch-bar">
      <span class="quick-launch-label">Quick Agents</span>
      <button class="quick-agent-btn" data-agent-type="codex">
        <span class="quick-agent-icon" data-agent-icon="codex"></span>
        <span>Codex</span>
      </button>
      <button class="quick-agent-btn" data-agent-type="claude-code">
        <span class="quick-agent-icon" data-agent-icon="claude-code"></span>
        <span>Claude Code</span>
      </button>
      <button class="quick-agent-btn" data-agent-type="opencode">
        <span class="quick-agent-icon" data-agent-icon="opencode"></span>
        <span>OpenCode</span>
      </button>
      <button class="quick-agent-btn" data-agent-type="gemini">
        <span class="quick-agent-icon" data-agent-icon="gemini"></span>
        <span>Gemini CLI</span>
      </button>
      <button class="quick-agent-btn" data-agent-type="kimi">
        <span class="quick-agent-icon" data-agent-icon="kimi"></span>
        <span>Kimi CLI</span>
      </button>
    </div>

    <!-- ç»ˆç«¯å®¹å™¨ -->
    <div id="terminal-container">
      <div id="terminal-search">
        <input id="terminal-search-input" type="text" placeholder="Search terminal..." />
        <button class="terminal-search-btn" id="terminal-search-prev" title="Previous (Shift+Enter)"></button>
        <button class="terminal-search-btn" id="terminal-search-next" title="Next (Enter)"></button>
        <button class="terminal-search-btn" id="terminal-search-close" title="Close (Esc)"></button>
      </div>

      <!-- Chat é¢æ¿ (OpenClaw) -->
      <div id="chat-panel" class="active">
        <div id="chat-header">
          <div class="chat-header-title">OpenClaw</div>
          <div class="chat-header-right">
            <div class="chat-header-status">
              <span class="status-dot" id="chat-status-dot"></span>
              <span id="chat-status-text">Offline</span>
            </div>
            <button id="gateway-settings-btn" class="chat-header-btn" title="Gateway Settings"></button>
          </div>
        </div>
        <div id="chat-messages"></div>
        <div id="chat-empty-state">
          <div class="empty-state-icon">ðŸ’¬</div>
          <div class="empty-state-title">Start a conversation</div>
          <div class="empty-state-subtitle">Send a message to OpenClaw to get started</div>
        </div>
        <div id="chat-input-bar">
          <textarea id="chat-input" rows="1" placeholder="Message OpenClaw..."></textarea>
          <button id="chat-stop" style="display:none" title="Stop generating"></button>
          <button id="chat-send" title="Send"></button>
        </div>
      </div>
    </div>
  </div>

  <!-- Agent é€‰æ‹©å¼¹çª— -->
  <div class="agent-picker" id="agent-picker">
    <div class="agent-picker-inner">
      <h3>Launch Agent</h3>
      <div class="agent-option" data-agent-type="claude-code">
        <span class="agent-option-icon" data-agent-icon="claude-code"></span>
        <span class="agent-option-label">Claude Code</span>
      </div>
      <div class="agent-option" data-agent-type="codex">
        <span class="agent-option-icon" data-agent-icon="codex"></span>
        <span class="agent-option-label">Codex</span>
      </div>
      <div class="agent-option" data-agent-type="opencode">
        <span class="agent-option-icon" data-agent-icon="opencode"></span>
        <span class="agent-option-label">OpenCode</span>
      </div>
      <div class="agent-option" data-agent-type="gemini">
        <span class="agent-option-icon" data-agent-icon="gemini"></span>
        <span class="agent-option-label">Gemini CLI</span>
      </div>
      <div class="agent-option" data-agent-type="kimi">
        <span class="agent-option-icon" data-agent-icon="kimi"></span>
        <span class="agent-option-label">Kimi CLI</span>
      </div>
      <div class="agent-option" data-agent-type="goose">
        <span class="agent-option-icon" data-agent-icon="goose"></span>
        <span class="agent-option-label">Goose</span>
      </div>
      <div class="agent-option" data-agent-type="aider">
        <span class="agent-option-icon" data-agent-icon="aider"></span>
        <span class="agent-option-label">Aider</span>
      </div>
      <div class="agent-option" data-agent-type="shell">
        <span class="agent-option-icon" data-agent-icon="shell"></span>
        <span class="agent-option-label">Shell</span>
      </div>
    </div>
  </div>

  <div class="gateway-settings" id="gateway-settings">
    <div class="gateway-settings-inner">
      <div class="gateway-settings-header">
        <h3>Gateway Settings</h3>
        <button id="gateway-settings-close" class="gateway-close-btn" title="Close"></button>
      </div>
      <label class="gateway-field" for="gateway-url">
        Gateway URL
        <input id="gateway-url" type="text" value="ws://localhost:18789" />
      </label>
      <label class="gateway-field" for="gateway-token">
        Token
        <input id="gateway-token" type="password" />
      </label>
      <div class="gateway-actions">
        <button id="gateway-connect">Connect</button>
        <button id="gateway-disconnect">Disconnect</button>
      </div>
      <div class="gateway-status-row">
        Status:
        <span id="gateway-connection-status">Disconnected</span>
      </div>
    </div>
  </div>

  <script type="module" src="./main.js"></script>
</body>
</html>
